


copy_ip -name tx_rx_GTP_Artix [get_ips rx_GTP_Artix]
set_property -dict [list CONFIG.identical_val_no_rx {true}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.identical_val_no_tx {false}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt0_val_tx_refclk {REFCLK0_Q0}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt1_val_tx_refclk {REFCLK1_Q0}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt2_val_tx_refclk {REFCLK1_Q0}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt3_val_tx_refclk {REFCLK1_Q0}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt4_val_tx_refclk {REFCLK1_Q1}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt5_val_tx_refclk {REFCLK1_Q1}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt6_val_tx_refclk {REFCLK1_Q1}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt7_val_tx_refclk {REFCLK1_Q1}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt8_val_tx_refclk {REFCLK1_Q2}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt9_val_tx_refclk {REFCLK1_Q2}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt10_val_tx_refclk {REFCLK1_Q2}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt11_val_tx_refclk {REFCLK1_Q2}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt12_val_tx_refclk {REFCLK1_Q3}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt13_val_tx_refclk {REFCLK1_Q3}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt14_val_tx_refclk {REFCLK1_Q3}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt15_val_tx_refclk {REFCLK1_Q3}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt16_val_tx_refclk {REFCLK1_Q4}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt17_val_tx_refclk {REFCLK1_Q4}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt18_val_tx_refclk {REFCLK1_Q4}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt19_val_tx_refclk {REFCLK1_Q4}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt20_val_tx_refclk {REFCLK1_Q5}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt21_val_tx_refclk {REFCLK1_Q5}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt22_val_tx_refclk {REFCLK1_Q5}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt23_val_tx_refclk {REFCLK1_Q5}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt24_val_tx_refclk {REFCLK1_Q6}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt25_val_tx_refclk {REFCLK1_Q6}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt26_val_tx_refclk {REFCLK1_Q6}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt27_val_tx_refclk {REFCLK1_Q6}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt28_val_tx_refclk {REFCLK1_Q7}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt29_val_tx_refclk {REFCLK1_Q7}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt30_val_tx_refclk {REFCLK1_Q7}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt31_val_tx_refclk {REFCLK1_Q7}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt32_val_tx_refclk {REFCLK1_Q8}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt33_val_tx_refclk {REFCLK1_Q8}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt34_val_tx_refclk {REFCLK1_Q8}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt35_val_tx_refclk {REFCLK1_Q8}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt36_val_tx_refclk {REFCLK1_Q9}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt37_val_tx_refclk {REFCLK1_Q9}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt38_val_tx_refclk {REFCLK1_Q9}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt39_val_tx_refclk {REFCLK1_Q9}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt40_val_tx_refclk {REFCLK1_Q10}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt41_val_tx_refclk {REFCLK1_Q10}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt42_val_tx_refclk {REFCLK1_Q10}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt43_val_tx_refclk {REFCLK1_Q10}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt44_val_tx_refclk {REFCLK1_Q11}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt45_val_tx_refclk {REFCLK1_Q11}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt46_val_tx_refclk {REFCLK1_Q11}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt47_val_tx_refclk {REFCLK1_Q11}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt0_val_tx_data_width {16}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt0_val_encoding {8B/10B}] [get_ips tx_rx_GTP_Artix]
set_property -dict [list CONFIG.gt0_val_tx_int_datawidth {20}] [get_ips tx_rx_GTP_Artix]

set_property -dict [list CONFIG.gt0_usesharedlogic {0}] [get_ips tx_rx_GTP_Artix]

set_property generate_synth_checkpoint true [get_files tx_rx_GTP_Artix.xci]
convert_ips -from_core_container [get_files  tx_rx_GTP_Artix.xci]
generate_target synthesis [get_files tx_rx_GTP_Artix.xci]
if { [get_property coreContainer.enable [current_project]] == 1} {
convert_ips [get_files  tx_rx_GTP_Artix.xci]
}

set_property USED_IN {synthesis} [get_files tx_rx_GTP_Artix.xci]
set_property USED_IN {simulation testbench synthesis implementation} [get_files tx_rx_GTP_Artix.xci]
create_ip_run [get_files -of_objects [get_fileset sources_1] tx_rx_GTP_Artix.xci]
launch_run  tx_rx_GTP_Artix_synth_1
wait_on_run tx_rx_GTP_Artix_synth_1
generate_target example [get_files tx_rx_GTP_Artix.xci]

exec cp ./rx_GTP_Artix_ex.srcs/sim_1/imports/simulation/functional/gt_rom_init_rx.dat ./rx_GTP_Artix_ex.srcs/sources_1/ip/tx_rx_GTP_Artix/tx_rx_GTP_Artix/example_design/gt_rom_init_tx.dat
exec cp ./rx_GTP_Artix_ex.srcs/sim_1/imports/simulation/functional/gt_rom_init_rx.dat ./rx_GTP_Artix_ex.srcs/sources_1/ip/tx_rx_GTP_Artix/tx_rx_GTP_Artix/simulation/functional/gt_rom_init_tx.dat

add_files -scan_for_includes -fileset [current_fileset -simset] \
  [get_files tx_rx_gtp_artix_gt_usrclk_source.vhd] \
  [get_files *rx_GTP_Artix*/*/*example_design*/gt_rom_init_tx.dat] \
  [get_files tx_rx_gtp_artix_gt_frame_gen.vhd] \
  [get_files tx_rx_gtp_artix_exdes.vhd] \
  [get_files tx_rx_gtp_artix_support.vhd] \
  [get_files tx_rx_gtp_artix_cpll_railing.vhd] \
  [get_files tx_rx_gtp_artix_common.vhd] \
  [get_files tx_rx_gtp_artix_common_reset.vhd] \

set_property SOURCE_SET sources_1 [get_filesets sim_1]
add_files -fileset sim_1 -norecurse [get_files tx_rx_GTP_Artix_sim_netlist.v]
remove_files -fileset tx_rx_GTP_Artix [get_files tx_rx_GTP_Artix.xci]
delete_fileset -quiet tx_rx_GTP_Artix

set srcIpDir "./"

set_property top rx_GTP_Artix_TB [get_filesets sim_1]
set_property top_lib xil_defaultlib [get_filesets sim_1]
update_compile_order -fileset sim_1
 
