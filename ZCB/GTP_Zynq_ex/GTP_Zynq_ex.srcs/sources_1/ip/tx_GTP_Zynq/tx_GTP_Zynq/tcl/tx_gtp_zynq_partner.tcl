


copy_ip -name rx_tx_GTP_Zynq [get_ips tx_GTP_Zynq]
set_property -dict [list CONFIG.identical_val_no_tx {true}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.identical_val_no_rx {false}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt0_val_rx_refclk {REFCLK1_Q0}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt1_val_rx_refclk {REFCLK1_Q0}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt2_val_rx_refclk {REFCLK1_Q0}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt3_val_rx_refclk {REFCLK1_Q0}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt4_val_rx_refclk {REFCLK1_Q1}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt5_val_rx_refclk {REFCLK1_Q1}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt6_val_rx_refclk {REFCLK1_Q1}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt7_val_rx_refclk {REFCLK1_Q1}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt8_val_rx_refclk {REFCLK1_Q2}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt9_val_rx_refclk {REFCLK1_Q2}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt10_val_rx_refclk {REFCLK1_Q2}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt11_val_rx_refclk {REFCLK1_Q2}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt12_val_rx_refclk {REFCLK1_Q3}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt13_val_rx_refclk {REFCLK1_Q3}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt14_val_rx_refclk {REFCLK1_Q3}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt15_val_rx_refclk {REFCLK1_Q3}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt16_val_rx_refclk {REFCLK1_Q4}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt17_val_rx_refclk {REFCLK1_Q4}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt18_val_rx_refclk {REFCLK1_Q4}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt19_val_rx_refclk {REFCLK1_Q4}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt20_val_rx_refclk {REFCLK1_Q5}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt21_val_rx_refclk {REFCLK1_Q5}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt22_val_rx_refclk {REFCLK1_Q5}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt23_val_rx_refclk {REFCLK1_Q5}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt24_val_rx_refclk {REFCLK1_Q6}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt25_val_rx_refclk {REFCLK1_Q6}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt26_val_rx_refclk {REFCLK1_Q6}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt27_val_rx_refclk {REFCLK1_Q6}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt28_val_rx_refclk {REFCLK1_Q7}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt29_val_rx_refclk {REFCLK1_Q7}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt30_val_rx_refclk {REFCLK1_Q7}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt31_val_rx_refclk {REFCLK1_Q7}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt32_val_rx_refclk {REFCLK1_Q8}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt33_val_rx_refclk {REFCLK1_Q8}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt34_val_rx_refclk {REFCLK1_Q8}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt35_val_rx_refclk {REFCLK1_Q8}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt36_val_rx_refclk {REFCLK1_Q9}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt37_val_rx_refclk {REFCLK1_Q9}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt38_val_rx_refclk {REFCLK1_Q9}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt39_val_rx_refclk {REFCLK1_Q9}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt40_val_rx_refclk {REFCLK1_Q10}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt41_val_rx_refclk {REFCLK1_Q10}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt42_val_rx_refclk {REFCLK1_Q10}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt43_val_rx_refclk {REFCLK1_Q10}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt44_val_rx_refclk {REFCLK1_Q11}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt45_val_rx_refclk {REFCLK1_Q11}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt46_val_rx_refclk {REFCLK1_Q11}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt47_val_rx_refclk {REFCLK1_Q11}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt0_val_rxusrclk {RXOUTCLK}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt0_val_rx_data_width {16}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt0_val_decoding {None}] [get_ips rx_tx_GTP_Zynq]
set_property -dict [list CONFIG.gt0_val_rx_int_datawidth {16}] [get_ips rx_tx_GTP_Zynq]

set_property -dict [list CONFIG.gt0_usesharedlogic {0}] [get_ips rx_tx_GTP_Zynq]

set_property generate_synth_checkpoint true [get_files rx_tx_GTP_Zynq.xci]
convert_ips -from_core_container [get_files  rx_tx_GTP_Zynq.xci]
generate_target synthesis [get_files rx_tx_GTP_Zynq.xci]
if { [get_property coreContainer.enable [current_project]] == 1} {
convert_ips [get_files  rx_tx_GTP_Zynq.xci]
}

set_property USED_IN {synthesis} [get_files rx_tx_GTP_Zynq.xci]
set_property USED_IN {simulation testbench synthesis implementation} [get_files rx_tx_GTP_Zynq.xci]
create_ip_run [get_files -of_objects [get_fileset sources_1] rx_tx_GTP_Zynq.xci]
launch_run  rx_tx_GTP_Zynq_synth_1
wait_on_run rx_tx_GTP_Zynq_synth_1
generate_target example [get_files rx_tx_GTP_Zynq.xci]


add_files -scan_for_includes -fileset [current_fileset -simset] \
  [get_files rx_tx_gtp_zynq_gt_usrclk_source.vhd] \
  [get_files *tx_GTP_Zynq*/*/*example_design*/gt_rom_init_rx.dat] \
  [get_files rx_tx_gtp_zynq_gt_frame_check.vhd] \
  [get_files rx_tx_gtp_zynq_exdes.vhd] \
  [get_files rx_tx_gtp_zynq_support.vhd] \
  [get_files rx_tx_gtp_zynq_cpll_railing.vhd] \
  [get_files rx_tx_gtp_zynq_common.vhd] \
  [get_files rx_tx_gtp_zynq_common_reset.vhd] \

set_property SOURCE_SET sources_1 [get_filesets sim_1]
add_files -fileset sim_1 -norecurse [get_files rx_tx_GTP_Zynq_sim_netlist.v]
remove_files -fileset rx_tx_GTP_Zynq [get_files rx_tx_GTP_Zynq.xci]
delete_fileset -quiet rx_tx_GTP_Zynq

set srcIpDir "./"

set_property top tx_GTP_Zynq_TB [get_filesets sim_1]
set_property top_lib xil_defaultlib [get_filesets sim_1]
update_compile_order -fileset sim_1
 
